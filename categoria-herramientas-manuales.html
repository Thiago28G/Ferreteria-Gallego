<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ferreter√≠a y Pinturer√≠a Gallego ‚Äî Herramientas Manuales</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .catalogo { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1rem; margin-top:1rem; }
    .prod { background:var(--card); border:1px solid #ddd; border-radius:1rem; padding:1rem; display:flex; gap:.75rem; flex-direction:column; }
    .prod h3 { margin:.25rem 0; font-size:1.05rem; }
    .meta { color:var(--muted); font-size:.9rem; line-height:1.2; }
    .price { font-weight:700; }
    .sku { font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:.85rem; color:var(--muted); }
    .actions { display:flex; gap:.5rem; align-items:center; }
    .qty { width:64px; padding:.4rem .5rem; border-radius:.5rem; border:1px solid #ccc; }
    .pill { background:rgba(255,255,255,.12); padding:.2rem .45rem; border-radius:999px; font-size:.8rem; color:#fff; }
    .cart-indicator { margin-left:.5rem; }
  </style>
</head>
<body>
  <header class="navbar">
    <a class="brand" href="index.html" aria-label="Inicio">üß∞ Ferreter√≠a y Pinturer√≠a Gallego</a>

    <nav class="nav-links">
      <a href="index.html">Home</a>

      <div class="dropdown mega">
        <button class="dropbtn" aria-haspopup="true" aria-expanded="false">Categor√≠as</button>
        <div class="dropdown-menu mega-menu" role="menu">
          <div class="mega-col"><h3>Agua y Plomer√≠a</h3><a href="categoria-agua.html">Ca√±os y conexiones</a><a href="categoria-agua.html">Grifer√≠a</a><a href="categoria-agua.html">Bombas y v√°lvulas</a></div>
          <div class="mega-col"><h3>Pintura</h3><a href="categoria-pintura.html">Pinturas y esmaltes</a><a href="categoria-pintura.html">Rodillos y pinceles</a><a href="categoria-pintura.html">Preparaci√≥n y diluyentes</a></div>
          <div class="mega-col"><h3>Herramientas</h3><a href="categoria-herramientas-manuales.html">Manuales</a><a href="categoria-herramientas-electricas.html">El√©ctricas</a><a href="categoria-herramientas-electricas.html">Accesorios</a></div>
          <div class="mega-col"><h3>Electricidad</h3><a href="categoria-electricidad-iluminacion.html">Cables y tableros</a><a href="categoria-electricidad-iluminacion.html">Tomas y llaves</a><a href="categoria-electricidad-iluminacion.html">Iluminaci√≥n LED</a></div>
          <div class="mega-col"><h3>Cerrajer√≠a</h3><a href="categoria-cerrajeria-herrajes.html">Cerraduras y cilindros</a><a href="categoria-cerrajeria-herrajes.html">Bisagras y pasadores</a><a href="categoria-cerrajeria-herrajes.html">Herrajes</a></div>
          <div class="mega-col"><h3>Torniller√≠a</h3><a href="categoria-tornilleria-fijaciones.html">Tornillos</a><a href="categoria-tornilleria-fijaciones.html">Tarugos y anclajes</a><a href="categoria-tornilleria-fijaciones.html">Arandelas y tuercas</a></div>
          <div class="mega-col"><h3>Adhesivos</h3><a href="categoria-adhesivos-selladores.html">Pegamentos</a><a href="categoria-adhesivos-selladores.html">Siliconas y selladores</a><a href="categoria-adhesivos-selladores.html">Espumas PU</a></div>
          <div class="mega-col"><h3>Seguridad</h3><a href="categoria-seguridad-higiene.html">EPP</a><a href="categoria-seguridad-higiene.html">Se√±al√©tica</a><a href="categoria-seguridad-higiene.html">Extintores</a></div>
          <div class="mega-col"><h3>Jardiner√≠a</h3><a href="categoria-jardineria.html">Mangueras y riego</a><a href="categoria-jardineria.html">Herramientas de jard√≠n</a><a href="categoria-jardineria.html">C√©sped y poda</a></div>
          <div class="mega-col"><h3>Construcci√≥n</h3><a href="categoria-construccion.html">L√≠neas de obra</a><a href="categoria-construccion.html">Cortes y abrasivos</a><a href="categoria-construccion.html">Niveles y medici√≥n</a></div>
        </div>
      </div>
    </nav>

    <div class="nav-actions">
      <a class="btn" href="login.html">Logout</a>
      <span class="pill cart-indicator" id="cartCount">0</span>
    </div>
  </header>

  <main class="container">
    <h1>Herramientas Manuales</h1>
    <p class="meta">Llaves, destornilladores, martillos, alicates, sierras y todo tipo de herramientas de mano.</p>

    <section class="catalogo" id="catalogo"></section>
  </main>

  <footer class="footer">¬© <span id="year"></span> Ferreter√≠a y Pinturer√≠a Gallego</footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    document.addEventListener('click', (e) => {
      const dd = e.target.closest('.dropdown');
      document.querySelectorAll('.dropdown').forEach(d => {
        const open = d === dd && !d.classList.contains('open');
        d.classList.toggle('open', open);
        const btn = d.querySelector('.dropbtn');
        if (btn) btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      });
    });

    const CATEGORY_ID = "herramientas-manuales";
    const PRODUCTS = [
      { id:"HM-001", nombre:"Llave inglesa ajustable 10\"", medida:"250 mm", marca:"Truper", precio: 6990, stock:true },
      { id:"HM-002", nombre:"Destornillador plano 6\"", medida:"150 mm", marca:"Bahco", precio: 1990, stock:true },
      { id:"HM-003", nombre:"Destornillador Phillips 6\"", medida:"150 mm", marca:"Bahco", precio: 2290, stock:true },
      { id:"HM-004", nombre:"Martillo u√±a carpintero 16 oz", medida:"16 oz", marca:"Stanley", precio: 5990, stock:true },
      { id:"HM-005", nombre:"Alicate universal 8\"", medida:"200 mm", marca:"Tramontina", precio: 5490, stock:true },
      { id:"HM-006", nombre:"Pinza pico de loro 10\"", medida:"250 mm", marca:"Stanley", precio: 6290, stock:true },
      { id:"HM-007", nombre:"Serrucho carpintero 20\"", medida:"500 mm", marca:"Bahco", precio: 7990, stock:true },
      { id:"HM-008", nombre:"Sierra arco para metal 12\"", medida:"300 mm", marca:"Stanley", precio: 6990, stock:true },
      { id:"HM-009", nombre:"Juego de llaves Allen mm", medida:"9 piezas", marca:"Truper", precio: 4990, stock:true },
      { id:"HM-010", nombre:"Cinta m√©trica 5 m", medida:"5 m", marca:"Truper", precio: 2590, stock:true },
      { id:"HM-011", nombre:"Nivel burbuja 40 cm", medida:"400 mm", marca:"Stanley", precio: 3990, stock:true }
    ];

    function money(n){ return new Intl.NumberFormat('es-AR',{style:'currency',currency:'ARS', maximumFractionDigits:0}).format(n); }

    function renderCatalog() {
      const el = document.getElementById('catalogo');
      el.innerHTML = PRODUCTS.map(p => `
        <article class="prod">
          <div class="sku">SKU: ${p.id}</div>
          <h3>${p.nombre}</h3>
          <div class="meta">${p.marca}${p.medida ? " ¬∑ " + p.medida : ""}</div>
          <div class="price">${money(p.precio)}</div>
          <div class="actions">
            <input class="qty" type="number" min="1" value="1" aria-label="Cantidad" />
            <button class="btn primary" data-sku="${p.id}">Agregar</button>
          </div>
        </article>
      `).join('');
    }

    function getCart() {
      try { return JSON.parse(localStorage.getItem('cart')) || []; }
      catch { return []; }
    }

    function setCart(items) {
      localStorage.setItem('cart', JSON.stringify(items));
      updateCartCount();
    }

    function updateCartCount() {
      const items = getCart();
      const count = items.reduce((acc, it) => acc + (it.qty || 0), 0);
      document.getElementById('cartCount').textContent = count;
    }

    document.addEventListener('click', (e) => {
      const btn = e.target.closest('button.btn.primary[data-sku]');
      if(!btn) return;
      const card = btn.closest('.prod');
      const qtyInput = card.querySelector('.qty');
      const qty = Math.max(1, parseInt(qtyInput.value || "1", 10));
      const sku = btn.dataset.sku;
      const prod = PRODUCTS.find(p => p.id === sku);
      if(!prod) return;

      const cart = getCart();
      const existing = cart.find(it => it.sku === sku);
      if (existing) existing.qty += qty;
      else cart.push({ sku, nombre: prod.nombre, precio: prod.precio, qty, category: CATEGORY_ID });

      setCart(cart);
      btn.textContent = "Agregado ‚úì";
      setTimeout(() => (btn.textContent = "Agregar"), 900);
    });

    renderCatalog();
    updateCartCount();
  </script>
</body>
</html>
